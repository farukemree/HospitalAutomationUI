<div class="admin-department-page">
  <h2>🏥 Departman Yönetimi</h2>

  <div class="actions">
    <button (click)="showAddForm = true; cancelEdit()">Yeni Departman Ekle</button>
  </div>

  <!-- Yeni departman ekleme formu -->
  <div *ngIf="showAddForm" class="add-form">
    <input [(ngModel)]="newDepartmentName" placeholder="Departman adı girin" />
    <button class="btn-add" (click)="addDepartment()">Ekle</button>
    <button (click)="showAddForm = false">İptal</button>
  </div>

  <ul>
    <li *ngFor="let dep of departments" class="department-item">

      <!-- Departman adı -->
      <span *ngIf="editDepartmentId !== dep.id">{{ dep.name }}</span>
      <input *ngIf="editDepartmentId === dep.id" [(ngModel)]="editDepartmentName" />

      <!-- Butonlar grubu -->
      <div class="btn-group">
        <button *ngIf="!showAddForm && editDepartmentId !== dep.id" (click)="startEdit(dep)" class="btn-update">Güncelle</button>
        <button *ngIf="editDepartmentId === dep.id" (click)="updateDepartment(dep.id)" class="btn-save">Kaydet</button>
        <button *ngIf="editDepartmentId === dep.id" (click)="cancelEdit()" class="btn-cancel">İptal</button>
        <button *ngIf="!showAddForm && editDepartmentId !== dep.id" (click)="deleteDepartment(dep.id)" class="btn-delete">Sil</button>
      </div>
    </li>
  </ul>
</div>
